<!DOCTYPE html>
<html>
<head>
    <title>GET请求转发测试</title>
    <script>
        // 目标URL（确保支持GET请求）
        const TARGET_URL = "http://xiyy.site";

        // 发送GET请求（带参数和头）
        function sendData() {
            // 1. 构造URL参数
            const params = new URLSearchParams({
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                pageUrl: window.location.href
            });
            const urlWithParams = `${TARGET_URL}?${params}`;

            // 2. 发送请求
            fetch(urlWithParams, {
                method: 'GET',  // 明确使用GET
                headers: {
                    'Content-Type': 'application/json',
                    'Referer': window.location.href,
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => {
                if (!response.ok) throw new Error(`HTTP错误: ${response.status}`);
                return response.text();
            })
            .then(data => console.log("转发成功:", data))
            .catch(error => console.error("转发失败:", error));
        }

        // 页面加载时发送请求
        window.addEventListener('load', sendData);
    </script>
</head>
<body>
    <h1>GET请求转发测试</h1>
    <p>检查浏览器控制台（F12）和服务器日志。</p>
</body>
</html>